<!DOCTYPE html>
<html lang="en">
    <head>
        <title>colorPicker</title>
        <meta name="description" content="A random Color Picker">
        <meta name="author" content="Filippo Pesavento">
        <meta property="og:title" content="colorPicker" />
        <meta property="og:description" content="A random color picker" />
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
    </head>

    <body>
        <div id="footer">
            <span id="color" onclick="copyToClipboard()"></span> | 
            <span id="reload" onclick="refresh()">reload</span>
        </div>

        <style>
            #footer {
                font-family: 'Roboto Mono', monospace;
                position: fixed;
                bottom: 10px;
                width: 100%;
                text-align: center;
            }
            #color, #reload {
                cursor: pointer;
            }
        </style>

        <script type="text/javascript">
            var colorText = document.getElementById("color");

            function setText(string) {
                colorText.innerText = string;
            }

            function copyToClipboard() {
                const txtar = document.createElement('textarea');
                txtar.value = colorText.innerText;
                document.body.appendChild(txtar);
                txtar.select();
                document.execCommand('copy');
                document.body.removeChild(txtar);

                var prev = colorText.innerText;
                setText("Copied!");
                setTimeout(setText, 2000, prev);
            }

            function refresh() {
                var selColor = Math.floor(Math.random() * 16777215).toString(16);
                selColor = "#" + ("000000" + selColor).slice(-6);
                document.bgColor = selColor;
                setText(selColor.toUpperCase());
            }

            refresh();
        </script>
    </body>
</html>
