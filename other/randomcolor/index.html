<!DOCTYPE html>
<html lang="en">
    <head>
        <title>colorPicker</title>
        <meta name="description" content="A random Color Picker">
        <meta name="author" content="Filippo Pesavento">
        <meta property="og:title" content="colorPicker" />
        <meta property="og:description" content="A random color picker" />
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
    </head>

    <body>
        <p id="colorid" onclick="copyToClipboard()"></p>

        <style>
            #colorid {
                font-family: 'Roboto Mono', monospace;
                cursor: pointer;
                position: fixed;
                bottom: 0;
                width:100%;
                text-align: center;
            }
        </style>

        <script type="text/javascript">
            var colorText = document.getElementById("colorid");

            function setText(string) {
                colorText.innerText = string;
            }

            function copyToClipboard() {
                const txtar = document.createElement('textarea');
                txtar.value = colorText.innerText;
                document.body.appendChild(txtar);
                txtar.select();
                document.execCommand('copy');
                document.body.removeChild(txtar);

                var prev = colorText.innerText;
                setText("Copied!");
                setTimeout(setText, 2000, prev);
            }

            var selColor = Math.floor(Math.random() * 16777215).toString(16);
            selColor = "#" + ("000000" + selColor).slice(-6);
            document.bgColor = selColor;
            setText(selColor.toUpperCase());
        </script>
    </body>
</html>
